<!DOCTYPE html>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58919029-1', 'auto');
  ga('send', 'pageview');

</script>

<html>

<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta name="robots" content="follow" />
  
  <title>
    MK Dynamics - Electronics - Power Electronics
  </title>
  
  <link href="../css/styles.css" type = "text/css" rel = "stylesheet" />
  
  <style>
    .content {
	overflow: auto;
	height: 80%; 
	background: url("../images/galaxy1.jpg") no-repeat center center fixed;
	background-size: cover;
	background-position: center;
	padding: 10px;
	margin: 10px;
	border: 5px solid black;
      }
      
    h1, h2, h3, h4 {
      color: white;
      display: block;     
    }
    
    .current_project_1 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 600px;
      top		: 0px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding-left	: 10px;
    }
    
    .current_project_2 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 1500px;
      top		: 0px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding-left	: 10px;
    }
    
    .current_project_3 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 1200px;
      top		: 0px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding-left	: 10px;
    }
    
    .current_project_4 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 6000px;
      top		: 0px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding		: 10px;
    }
    
    .current_project_5 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 5000px;
      top		: 0px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding		: 10px;
    }
    
    div .img {
      margin		: 0px;
      padding		: 10px;
      height		: auto;
      width		: auto;
      float		: left;
    }
    
    div .img img {
      display		: inline;
      margin		: 0px;
      padding		: 0px;
    }
    
    div .desc {
      color		: white;
      width		: 600px;
      margin		: 5px;
      padding		: 10px;
    }
    
    .FloatLeft {
        float           : left;
        margin          : 0px;
    }
    
    ul {
      color		: white;
    }
    
    div .loose_text {
      color		: white;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <header>
    
      <hgroup>
	<h1> 
	    <big> <big> MK Dynamics </big> </big>
	</h1>


	<h2>
	  Electronics - 100V to 5V 10A Forward Converter
	</h2>
      </hgroup>
    
      <nav>
	<ul>
	  <li> <a href="../index.php">Home</a> </li>
	  <li> <a href="current_projects_electronics.html">Back</a> </li>
	</ul>
      </nav>
  
      <hr />
    
    </header>
    
  <section class="content">
  
<!-- ************************************************************************************************************ -->      
    <section class="first_section">
      <hgroup>
	<h2>
	  Description
	</h2>
      </hgroup>
   
      <div class="current_project_1">
	<hgroup>
	  <h3>
	    Introduction
	  </h3>
	</hgroup>

	<div class="loose_text">
	  The item is a forward converter power supply that is fed with 100VDC and converts this input into 5VDC.
	  The maximum load current is 10A.  The item is intended mainly for household use, but can see operation outdoors.
	  Specific requirements are shown below:
	</div> <!-- .loose-text -->
	
	<hgroup>
	  <h3>
	    Requirements:
	  </h3>
	</hgroup>
	<ul>
	  
	  <li>Voltage input</li>
	  <ul>
	    <li>100V nominal</li>
	    <li>130V maximum</li>
	    <li>70V minimum</li>
	  </ul>
	  
	  <li>Current available</li>
	  <ul>
	    <li>10A maximum</li>
	  </ul>
	  
	  <li>Voltage Output</li>
	  <ul>
	    <li>Nominal output voltage: 5V</li>
	    <li>Allowable ripple voltage: 50mV peak to peak</li>
	  </ul>
	  
	  <li>Current Output</li>
	  <ul>
	    <li>Minimum load: 0 Amps</li>
	    <li>Maximum load: 10A</li>
	  </ul>
	  
	  <li>Environment</li>
            <ul>
                <li>Interfaces to household wiring</li>
                <li>Will see outdoor use in protected environment</li>
                <li>Exposed to lightning</li>
            </ul>
            
          <li>Components</li>
            <ul>
                <li>Must use the TL494 PWM IC for parts commonality</li>
            </ul>
	  
	  <li>Efficiency</li>
	  <ul>
	    <li>Must be greater than 70%</li>
	  </ul>
	</ul>

      </div> <!-- .current_project_1 -->
    </section> <!-- first_section -->
<!-- ************************************************************************************************************ -->      

<!-- ************************************************************************************************************ -->      
    <section class="second_section">
      
      <div class="current_project_2">
      
        <hgroup>
            <h2>
                Circuit Design Discussion
            </h2>
        </hgroup>
      
        <div class="loose_text">
            <p>
                The item is an isolated power supply circuit that accepts a nominal solar panel voltage of 100V and outputs a regulated 5V at 10A.  Additionally, the item counters the effects of a varying input voltage, by varying its output voltage accordingly.  So for example, if the input voltage varies from 100V to 101V, the output varies from 5V to 4V, and vice versa.  If the input voltage varies from 100V to 99V, then the output voltage varies from 5V to 6V.
            </p>
            
            <p>
                This relationship is implemented as a means of stabilizing the Local Grid voltage in a microgrid community power situation.  The item is to be placed between far flung loads, to compensate for voltage drops due to long transmission distances between solar panel source and load in a microgrid commnity power sitauation.
            </p>
	  
            <p>
                Since the amount of output current is 10A, we wanted to avoid high peak rectifier currents associated with a flyback converter.  Therefore, a forward converter topology was chosen.  The magnetics were chosen to be custom wound toroids.
            </p>
            
            <p>
                The circuit was designed using a pick and simulate approach to save time intensive analysis time.  Best / educated guesses were made for proper inductor values, a simulation was run, and the circuit performance was evaluated.  This was also done for the frequency compensation.
            </p>
            
            <p>
                The main PWM IC was required to be the TL494.  This chip does not implement pulse-by-pulse current limiting control.  This function was impleneted with additional circuitry to reduce the required loop compensation from a Type 3 amplifier to a Type 2 amplifier.  This greatly improves transient response and simplifies the compenation circuit from three poles to two poles.
            </p>
            
            <p>
                Another issue with the TL494 IC is that there is no official LTSpice 4 model available for it, although I was able to find a usable unofficial model.  It required some modifications, which are described here:<br>
                <a href="current_projects_electronics_hacking_TL494_LTSpice_model.html">Hacking the TL494 LTSpice Model</a>
            </p>
            
            <p> 
                The entire simulation schematic is shown in the image below.  Further dicussion on each of its parts will be made in subsequent sections.
            </p>

        </div> <!-- .loose_text -->
      
	<div class="img">
	  <img 
	      src="images/100Vto5V_10A_forward_converter_simsch.jpeg"
	      width="1200"
	      height="800"
	      title="100Vto5V_10A_forward_converter_simsch.jpeg"
	    >
  	</div> <!-- .img -->
	
	</div> <!-- .current_project_2 -->
      </section> <!-- second_section --> 
<!-- ************************************************************************************************************ -->      

<!-- ************************************************************************************************************ -->           
    <section class="third_section">
      
        <div class="current_project_3">
            <hgroup>
                <h2>
                    Circuit Description and Simulation Output
                </h2>
            </hgroup>
            
            <div class="loose_text">
                <p>
                    The following is a presentation that describes the circuit functions, as well as shows simulation outputs.
                </p>
            </div> <!-- .loose_text -->
            
            <embed 
                src="pdf\100V to 5V 20A forward converter simulation presentation.pdf" width="1200px" 
                height="1000px" 
            />
        </div> <!-- .current_project_3 -->
      
    </section> <!-- .third_section -->
<!-- ************************************************************************************************************ -->          

<!-- ************************************************************************************************************ -->      
    <section class="fourth_section">
    
        <div class="current_project_4">
            <hgroup>
                <h2>
                    Schematic and PCB Design in Eagle CAD
                </h2>
            </hgroup>
            
            <hgroup>
                <h4>
                    Schematic in Eagle CAD
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/100V to 5V 10A Forward Converter Eagle Sch.jpeg"
                        width="1200"
                        height="800"
                        title="100V to 5V 10A Forward Converter Eagle Sch.jpeg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    PCB in Eagle CAD
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/100V to 5V 10A Forward Converter Eagle Brd.jpeg"
                        width="1200"
                        height="800"
                        title="100V to 5V 10A Forward Converter Eagle Brd.jpeg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    PCB Top Layer in Eagle CAD
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/100V to 5V 10A Forward Converter Eagle Brd Layer Top.jpeg"
                        width="1200"
                        height="800"
                        title="100V to 5V 10A Forward Converter Eagle Brd Layer Top.jpeg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    PCB Second Layer in Eagle CAD
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/100V to 5V 10A Forward Converter Eagle Brd Layer 2.jpeg"
                        width="1200"
                        height="800"
                        title="100V to 5V 10A Forward Converter Eagle Brd Layer 2.jpeg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    PCB Third Layer in Eagle CAD
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/100V to 5V 10A Forward Converter Eagle Brd Layer 3.jpeg"
                        width="1200"
                        height="800"
                        title="100V to 5V 10A Forward Converter Eagle Brd Layer 3.jpeg"
                    >
                </div> <!-- .img -->
            </figure>
        
            <hgroup>
                <h4>
                    PCB Bottom Layer in Eagle CAD
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/100V to 5V 10A Forward Converter Eagle Brd Layer Bottom.jpeg"
                        width="1200"
                        height="800"
                        title="100V to 5V 10A Forward Converter Eagle Brd Layer Bottom.jpeg"
                    >
                </div> <!-- .img -->
            </figure>
        
        </div> <!-- .current_project_4 -->
        
    </section> <!-- fourth_section -->
<!-- ************************************************************************************************************ -->          

<!-- ************************************************************************************************************ -->      
    <section class="fifth_section">
    
        <div class="current_project_5">
            <hgroup>
                <h2>
                    PCB Assembly and Test
                </h2>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/20170111_153609.jpg"
                        width="1200"
                        height="800"
                        title="20170111_153609.jpg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/20170111_155837.jpg"
                        width="1200"
                        height="800"
                        title="20170111_155837.jpg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    Install PWM timing components and test
                </h4>
            </hgroup>
        
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/20170115_234532.jpg"
                        width="1200"
                        height="800"
                        title="20170115_234532.jpg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    Oscilloscope image of ramping waveform.  This is the voltage on the timing capacitor.
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/20170115_234541.jpg"
                        width="1200"
                        height="800"
                        title="20170115_234541.jpg"
                    >
                </div> <!-- .img -->
            </figure>
            
            <hgroup>
                <h4>
                    Oscilloscope image detail.  This is the voltage on the timing capacitor.
                </h4>
            </hgroup>
            
            <figure class="FloatLeft">
                <div class="img">
                    <img 
                        src="images/SDS00001.BMP"
                        width="1200"
                        height="800"
                        title="SDS00001.BMP"
                    >
                </div> <!-- .img -->
            </figure>
            
        </div> <!-- .current_project_4 -->
        
    </section> <!-- fourth_section -->
<!-- ************************************************************************************************************ -->         

<!-- ************************************************************************************************************ -->      
  </section>	<!-- .content -->
    
  </div> <!-- .wrapper -->

  </body>

</html>
  
