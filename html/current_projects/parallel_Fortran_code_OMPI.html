<!DOCTYPE html>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58919029-1', 'auto');
  ga('send', 'pageview');

</script>

<html>

<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta name="robots" content="follow" />
  
  <title>
    MK Dynamics - Programming - Programming in FORTRAN
  </title>
  
  <link href="../css/styles.css" type = "text/css" rel = "stylesheet" />
  
  <style>
    .content {
	overflow: auto;
	height: 80%; 
	background: url("../images/galaxy1.jpg") no-repeat center center fixed;
	background-size: cover;
	background-position: center;
	padding: 10px;
	margin: 10px;
	border: 5px solid black;
      }
      
    h1, h2, h3, h4 {
      color: white;
      display: block;     
    }
    
    .current_project_1 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 1050px;
      top		: 0px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding-left	: 10px;
    }
    
    .current_project_2 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 200px;
      top		: 000px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding-left	: 10px;
    }
    
    .current_project_3 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 1000px;
      top		: 000px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding-left	: 10px;
    }
    
    .current_project_4 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 1100px;
      top		: 10px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding		: 10px;
    }
    
    .current_project_5 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 1000px;
      top		: 10px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding		: 10px;
    }
    
    .current_project_6 {
      border		: 5px solid black;
      background	: gray;
      position		: relative;
      width		: 1250px;
      height		: 500px;
      top		: 10px;
      left		: 0px;
      float		: left;
      margin		: 10px;
      padding		: 10px;
    }
    
    div .img {
      margin		: 0px;
      padding		: 10px;
      height		: auto;
      width		: auto;
      float		: left;
    }
    
    div .img img {
      display		: inline;
      margin		: 0px;
      padding		: 0px;
    }
    
    div .desc {
      color		: white;
      width		: 600px;
      margin		: 5px;
      padding		: 10px;
    }
    
    ul {
      color		: white;
    }
    
    div .loose_text {
      color		: white;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <header>
    
      <hgroup>
	<h1> 
	    <big> <big> MK Dynamics </big> </big>
	</h1>


	<h2>
	  Programming - Parallel Fortran Code
	</h2>
      </hgroup>
    

      <nav>
	<ul>
	  <li> <a href="../index.html">Home</a> </li>
	  <li> <a href="rpi3_supercomputer.html">Back</a></li>
	</ul>
      </nav>
  
      <hr />
    
    </header>
    
  

    <section class="content">
    
        <section class="second_section">
        
            <div class="current_project_2">
            
                <hgroup>
                    <h2>
                        Description
                    </h2>
                    
                    <h3>
                        Introduction
                    </h3>
                </hgroup>

                <div class="loose_text">
                    Fortran code that implements parallel programming using the OpenMPI library.
                </div> <!-- .loose-text -->
	

            </div> <!-- .current_project_2 -->
            
        </section> <!-- second_section --> 
    

        <section class="third_section">
    
            <div class="current_project_3">
                <hgroup>
                    <h2>
                        Simple Program to Demonstrate Parallel Programming using OpenMPI
                    </h2>
                </hgroup>
                
                <div class="img">
                    <img
                        src="images/parallel_Fortran_code1.jpeg"
                        width="1200"
                        height="800"
                        title="parallel_Fortran_code1.jpeg"
                    >
                </div> <!-- .img -->
            
                <div class="loose_text">
                    This is a simple "Hello World" type program that can be used to test out multiprocessor execution.  It creates a scalar variable that exists in every image.  It then reads in an integer from the user and assigns the read in integer into every corresponding scalar variable in every image.  After letting each image synchronize, it prints out the read in variable and the image number.
                
                </div> <!-- .loose_text -->

            </div> <!-- .current_project_3 -->
        
        </section> <!-- .third_section -->

<!--***************************************************************************************************** -->        
        
        <section class="fourth_section">
    
            <div class="current_project_4">
                <hgroup>
                
                    <h2>
                        Program Run - Simple Program to Compute Positive and Negative Averages
                    </h2>
                    
                </hgroup>
                
                <div class="img">
                    <img 
                        src="images/parallel_fortran_code_run1.jpeg"
                        width="1200"
                        height="800"
                        title="parallel_fortran_code_run1.jpeg"
                    >
                </div> <!-- .img -->
            
                <div class="loose_text">
<<<<<<< HEAD
                    From the above screenshot, we can see that the program is compiled with a coarray aware compiler script known as "caf".  The resulting executable is then run with "cafrun".  cafrun has an option that lets the user choose the number of images to run the executable with.  In this case, we chose 8 images.  The physical CPU contains 4 cores.  It is an interesting question about how the images are actually distributed among the cores.  Do they each get two images?  Or does one core get 5 images and the other cores get the remaining 3, etc.?
=======
                    As can be seen from the program compilation and exectution above, there are a number of differences in the process when compared to standard compilation and execution.  The program is compiled with a coarray aware compiler "caf".  It is run with a coarray aware loader named "cafrun."  One of the options to cafrun is the number of "images" to be created when running the program.  This program was executed on a quad-core processor, but the number of images is 8.  Each image is provided with the integer the user entered, which in this case is 10.  The program then executes each image with the user entered integer and provides an output.  It is interesting that the number of images does not have to equal the number of cores or processors.
>>>>>>> 451c91688c6817988dcb5725a66ad5b3db4a17ee
                </div> <!-- .loose_text -->

            </div> <!-- .current_project_4 -->
            
        </section> <!-- .fourth_section -->

<!-- ********************************************************************************************************* -->
    
        <section class="fifth_section">
        
            <div class="current_project_5">
            
                <hgroup>
                    <h2>
                        Program - Simple Program to Calculate Integrals via Trapezoidal Sums
                    </h2>
                </hgroup>
                
                <a href="http://www.g95.org/coarray.shtml">www.g95.org</a>
                <div class="img">
                    <img 
                    src="images/fortran_code_integrate.jpeg"
                    width="1200"
                    height="800"
                    title="fortran_code_integrate.jpeg"
                    >
                </div> <!-- .img -->
                
                <div class="loose_text">
                    The function that is integrated is x^2, and it is hardcoded in.  The limits of integration are 0 to 1.  The program makes use of a module to define the function to integrate, and then this function acts a parameter for the integrate function.  The function interface is defined in the integrate_module. <br>
                    <a href="code_fortran/integrate.f95">Download integrate.f95 code</a>
                </div> <!-- .loose_text -->

            </div> <!-- .current_project_5 -->
      
        </section> <!-- .fifth_section -->
    
        <section class="sixth_section">
        
            <div class="current_project_6">
            
                <hgroup>
                    <h2>
                        Program Run - Simple Program to Calculate Integrals via Trapezoidal Sums
                    </h2>
                </hgroup>
                
                <div class="img">
                    <img 
                    src="images/fortran_code_integrate_output.jpeg"
                    width="1200"
                    height="300"
                    title="fortran_code_integrate_output.jpeg"
                    >
                </div> <!-- .img -->
                
                <div class="loose_text">
                    The integral of y=x^2 from x=0 to x=1 is 1/3.   
                </div> <!-- .loose_text -->

            </div> <!-- .current_project_6 -->
      
        </section> <!-- .sixth_section -->
    
     </section>	<!-- .content -->
    
  </div> <!-- .wrapper -->

  </body>

</html>
  

